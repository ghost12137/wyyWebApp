{"remainingRequest":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\babel-loader\\lib\\index.js!F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Wamp_html\\examples\\vue\\16-wymusic\\src\\views\\dailyrecommend\\DailyRecommend.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\src\\views\\dailyrecommend\\DailyRecommend.vue","mtime":1616854301184},{"path":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2xpYi90b2FzdC9zdHlsZSI7CmltcG9ydCBfVG9hc3QgZnJvbSAidmFudC9saWIvdG9hc3QiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXREYWlseVJlY29tbWVuZExpc3QgYXMgX2dldERhaWx5UmVjb21tZW5kTGlzdCB9IGZyb20gIm5ldHdvcmsvZGFpbHlSZWNvbW1lbmQiOwppbXBvcnQgU2Nyb2xsIGZyb20gJ2NvbXBvbmVudHMvY29tbW9uL3Njcm9sbC9TY3JvbGwnOwppbXBvcnQgTXVzaWNJdGVtIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29udGVudC9tdXNpY0l0ZW0vTXVzaWNJdGVtLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTY3JvbGw6IFNjcm9sbCwKICAgIE11c2ljSXRlbTogTXVzaWNJdGVtCiAgfSwKICBuYW1lOiAnRGFpbHlSZWNvbW1lbmQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzb25nTGlzdDogW10sCiAgICAgIC8v5o6o6I2Q5q2M5puy5YiX6KGoCiAgICAgIGlzRmxvdzogZmFsc2UgLy/mkq3mlL7lhajpg6jmoI/mmK/lkKblkLjpobYKCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8v6I635Y+W5b2T5pe25aSpCiAgICBkYXk6IGZ1bmN0aW9uIGRheSgpIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0RGF0ZSgpOwogICAgfSwKICAgIC8v6I635Y+W5b2T5pe25pyICiAgICBtb250aDogZnVuY3Rpb24gbW9udGgoKSB7CiAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldE1vbnRoKCkgKyAxOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLyoqDQogICAgICog55uR5ZCs54K55Ye755u45YWz5pa55rOVDQogICAgICovCiAgICAvL+ebkeWQrOa7muWKqAogICAgY29udGVudFNjcm9sbDogZnVuY3Rpb24gY29udGVudFNjcm9sbChwb3NpdGlvbikgewogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLnBsYXlBbGwub2Zmc2V0VG9wKTsKICAgICAgaWYgKE1hdGguYWJzKHBvc2l0aW9uLnkpID4gdGhpcy4kcmVmcy5wbGF5QWxsLm9mZnNldFRvcCkgewogICAgICAgIGNvbnNvbGUubG9nKHRydWUpOwogICAgICAgIHRoaXMuaXNGbG93ID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZyhmYWxzZSk7CiAgICAgICAgdGhpcy5pc0Zsb3cgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICAvKioNCiAgICAgKiDnvZHnu5zor7fmsYLnm7jlhbPmlrnms5UNCiAgICAgKi8KICAgIC8v6I635Y+W5q+P5pel5o6o6I2Q5q2M5puyCiAgICBnZXREYWlseVJlY29tbWVuZExpc3Q6IGZ1bmN0aW9uIGdldERhaWx5UmVjb21tZW5kTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF9Ub2FzdC5sb2FkaW5nKHsKICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn5Yqg6L295LitJwogICAgICB9KTsgLy/ojrflj5bmr4/ml6XmjqjojZDmrYzmm7IKCgogICAgICBfZ2V0RGFpbHlSZWNvbW1lbmRMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBfdGhpcy5zb25nTGlzdCA9IHJlcy5kYXRhLmRhaWx5U29uZ3M7CgogICAgICAgIF9Ub2FzdC5jbGVhcigpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX1RvYXN0LmNsZWFyKCk7CgogICAgICAgIF9Ub2FzdC5mYWlsKCfliqDovb3lpLHotKUnKTsKCiAgICAgICAgY29uc29sZS5sb2coJ2dldERhaWx5UmVjb21tZW5kTGlzdCBlcnJvciBpbiBkYWlseVJlY29tbWVuZCcsIGVycik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8v6I635Y+W5q+P5pel5o6o6I2Q5q2M5puyCiAgICB0aGlzLmdldERhaWx5UmVjb21tZW5kTGlzdCgpOwogIH0KfTs="},{"version":3,"sources":["DailyRecommend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,SAAA,qBAAA,IAAA,sBAAA,QAAA,wBAAA;AACA,OAAA,MAAA,MAAA,iCAAA;AACA,OAAA,SAAA,MAAA,kDAAA;AAGA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,SAAA,EAAA;AAFA,GADA;AAKA,EAAA,IAAA,EAAA,gBALA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AACA;AACA,MAAA,MAAA,EAAA,KAFA,CAEA;;AAFA,KAAA;AAIA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,GAFA,iBAEA;AACA,aAAA,IAAA,IAAA,EAAA,CAAA,OAAA,EAAA;AACA,KAJA;AAKA;AACA,IAAA,KANA,mBAMA;AACA,aAAA,IAAA,IAAA,EAAA,CAAA,QAAA,KAAA,CAAA;AACA;AARA,GAZA;AAsBA,EAAA,OAAA,EAAA;AACA;AACA;AACA;AACA;AACA,IAAA,aALA,yBAKA,QALA,EAKA;AACA;AACA,UAAA,IAAA,CAAA,GAAA,CAAA,QAAA,CAAA,CAAA,IAAA,KAAA,KAAA,CAAA,OAAA,CAAA,SAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,aAAA,MAAA,GAAA,IAAA;AACA,OAHA,MAGA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,aAAA,MAAA,GAAA,KAAA;AACA;AACA,KAdA;;AAeA;AACA;AACA;AACA;AACA,IAAA,qBAnBA,mCAmBA;AAAA;;AACA,aAAA,OAAA,CAAA;AACA,QAAA,QAAA,EAAA,CADA;AAEA,QAAA,WAAA,EAAA,IAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OAAA,EADA,CAMA;;;AACA,MAAA,sBAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,UAAA;;AACA,eAAA,KAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,eAAA,KAAA;;AACA,eAAA,IAAA,CAAA,MAAA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,+CAAA,EAAA,GAAA;AACA,OAVA;AAWA;AArCA,GAtBA;AA6DA,EAAA,OA7DA,qBA6DA;AACA;AACA,SAAA,qBAAA;AACA;AAhEA,CAAA","sourcesContent":["<template>\r\n  <div class=\"daily-recommend\">\r\n    <div class=\"play-all\" :class=\"isFlow==true?'active':'none'\">\r\n        <img src=\"~assets/img/dailyrecommend/playall/play.svg\" alt=\"\">\r\n        <span>播放全部</span>\r\n      </div>\r\n    <scroll class=\"daily-scroll\"\r\n      @scroll=\"contentScroll\" \r\n      :isListen=\"2\">\r\n      <!-- 背景 -->\r\n      <div class=\"background\">\r\n        <span class=\"day\">{{day}}</span>\r\n        <span class=\"month\">/{{month}}</span>\r\n      </div>\r\n      <!-- 播放全部 -->\r\n      <div class=\"play-all\" ref=\"playAll\">\r\n        <img src=\"~assets/img/dailyrecommend/playall/play.svg\" alt=\"\">\r\n        <span>播放全部</span>\r\n      </div>\r\n      <!-- 音乐列表 -->\r\n      <music-item \r\n        v-for=\"item in songList\" \r\n        :key=\"item.id\"\r\n        :music-item=\"item\"\r\n      />\r\n\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getDailyRecommendList } from \"network/dailyRecommend\";\r\nimport Scroll from 'components/common/scroll/Scroll';\r\nimport MusicItem from '../../components/content/musicItem/MusicItem.vue';\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n  components: { \r\n    Scroll,\r\n    MusicItem \r\n  },\r\n  name: 'DailyRecommend',\r\n  data() {\r\n    return {\r\n      songList: [], //推荐歌曲列表\r\n      isFlow: false,//播放全部栏是否吸顶\r\n    };\r\n  },\r\n  computed: {\r\n    //获取当时天\r\n    day() {\r\n      return (new Date()).getDate();\r\n    },\r\n    //获取当时月\r\n    month() {\r\n      return (new Date()).getMonth() + 1;\r\n    },\r\n  },\r\n  methods: {\r\n    /**\r\n     * 监听点击相关方法\r\n     */\r\n    //监听滚动\r\n    contentScroll(position) {\r\n      // console.log(this.$refs.playAll.offsetTop);\r\n      if (Math.abs(position.y) > this.$refs.playAll.offsetTop) {\r\n        console.log(true);\r\n        this.isFlow = true;\r\n      } else {\r\n        console.log(false);\r\n        this.isFlow = false;\r\n      }\r\n    },\r\n    /**\r\n     * 网络请求相关方法\r\n     */\r\n    //获取每日推荐歌曲\r\n    getDailyRecommendList() {\r\n      Toast.loading({\r\n        duration: 0,\r\n        forbidClick: true,\r\n        message: '加载中'\r\n      });\r\n      //获取每日推荐歌曲\r\n      getDailyRecommendList()\r\n      .then(res => {\r\n        console.log(res);\r\n        this.songList = res.data.dailySongs;\r\n        Toast.clear();\r\n      })\r\n      .catch(err => {\r\n        Toast.clear();\r\n        Toast.fail('加载失败');\r\n        console.log('getDailyRecommendList error in dailyRecommend', err);\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    //获取每日推荐歌曲\r\n    this.getDailyRecommendList();\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.daily-recommend {\r\n  background-color: #f6f6f4;\r\n  height: calc(100vh - 50px);\r\n  overflow: hidden;\r\n}\r\n.background {\r\n  width: 100vw;\r\n  height: 200px;\r\n  background-color: var(--color-back);\r\n  line-height: 350px;\r\n  margin-bottom: 5px;\r\n}\r\n.background span {\r\n  color: #ffff;\r\n  font-weight: bolder;\r\n}\r\n.day {\r\n  font-size: 30px;\r\n}\r\n.play-all {\r\n  display: flex;\r\n  padding: 10px 10px;\r\n  align-items: center;\r\n  font-size: 16px;\r\n  color: #000;\r\n  font-weight: bolder;\r\n  background-color: #f6f6f4;\r\n}\r\n.play-all img {\r\n  width: 30px;\r\n  margin-right: 10px;\r\n}\r\n.active {\r\n  z-index: 10;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n.none {\r\n  display: none;\r\n}\r\n</style>"],"sourceRoot":"src/views/dailyrecommend"}]}