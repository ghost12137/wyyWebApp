{"remainingRequest":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\babel-loader\\lib\\index.js!F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Wamp_html\\examples\\vue\\16-wymusic\\src\\views\\profile\\Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\src\\views\\profile\\Profile.vue","mtime":1616833186543},{"path":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Wamp_html\\examples\\vue\\16-wymusic\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE5hdkJhciBmcm9tICdjb21wb25lbnRzL2NvbW1vbi9uYXZiYXIvTmF2QmFyJzsKaW1wb3J0IFNjcm9sbCBmcm9tICdjb21wb25lbnRzL2NvbW1vbi9zY3JvbGwvU2Nyb2xsJzsKaW1wb3J0IHsgZ2V0VXNlclByb2ZpbGVNZXNzZ2UgYXMgX2dldFVzZXJQcm9maWxlTWVzc2dlIH0gZnJvbSAibmV0d29yay9wcm9maWxlIjsKaW1wb3J0IExlZnRQb3AgZnJvbSAnLi4vbGVmdHBvcC9MZWZ0UG9wJzsKaW1wb3J0IFVzZXJNc2cgZnJvbSAnLi9jaGlsZENvbXBzL1VzZXJNc2cnOwppbXBvcnQgVGFza3MgZnJvbSAnLi9jaGlsZENvbXBzL1Rhc2tzLnZ1ZSc7CmltcG9ydCBNeUZhdm9yaXRlU29uZyBmcm9tICcuL2NoaWxkQ29tcHMvTXlGYXZvcml0ZVNvbmcnOwppbXBvcnQgTXVzaWNDdHJsIGZyb20gJy4vY2hpbGRDb21wcy9tdXNpY0N0cmwudnVlJzsKaW1wb3J0IENyZWF0ZVNvbmdMaXN0IGZyb20gJy4vY2hpbGRDb21wcy9DcmVhdGVTb25nTGlzdCc7CmltcG9ydCBDb2xsZWN0U29uZ0xpc3QgZnJvbSAnLi9jaGlsZENvbXBzL0NvbGxlY3RTb25nTGlzdC52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTmF2QmFyOiBOYXZCYXIsCiAgICBMZWZ0UG9wOiBMZWZ0UG9wLAogICAgVXNlck1zZzogVXNlck1zZywKICAgIFRhc2tzOiBUYXNrcywKICAgIFNjcm9sbDogU2Nyb2xsLAogICAgTXlGYXZvcml0ZVNvbmc6IE15RmF2b3JpdGVTb25nLAogICAgTXVzaWNDdHJsOiBNdXNpY0N0cmwsCiAgICBDcmVhdGVTb25nTGlzdDogQ3JlYXRlU29uZ0xpc3QsCiAgICBDb2xsZWN0U29uZ0xpc3Q6IENvbGxlY3RTb25nTGlzdAogIH0sCiAgbmFtZTogJ1Byb2ZpbGUnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsZWZ0UG9wVXA6IGZhbHNlLAogICAgICAvL+S4quS6uuS/oeaBr+W3puW8ueWHuuWxguaYvuekugogICAgICBzaG93TXNnOiBmYWxzZSwKICAgICAgLy/kuKrkurrkv6Hmga9uYXZiYXLlvLnlh7oKICAgICAgbXlGYXZvcml0ZVNvbmc6IHt9LAogICAgICAvL+aIkeWWnOasoueahOmfs+S5kAogICAgICBjcmVhdGVTb25nTGlzdDogW10sCiAgICAgIC8v5Yib5bu655qE5q2M5Y2VCiAgICAgIGNvbGxlY3RTb25nTGlzdDogW10gLy/mlLbol4/nmoTmrYzljZUKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLyoqDQogICAgICog5LqL5Lu255uR5ZCs55u45YWz5pa55rOVDQogICAgICovCiAgICAvL+eCueWHu+W3puS4iuinkuabtOWkmuW3puW8ueWHuuWxguaYvuekuuS6i+S7tgogICAgbGVmdFBvcENsaWNrOiBmdW5jdGlvbiBsZWZ0UG9wQ2xpY2soKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdsZWZ0Y2xpY2snKTsKICAgICAgdGhpcy5sZWZ0UG9wVXAgPSB0cnVlOwogICAgfSwKICAgIC8v55uR5ZCs5Yiw6YCA5Ye654K55Ye75LqL5Lu277yM6ZqQ6JeP5by55Ye65bGCCiAgICBjaGFuZ2VQb3BTdGF0dXM6IGZ1bmN0aW9uIGNoYW5nZVBvcFN0YXR1cygpIHsKICAgICAgdGhpcy5sZWZ0UG9wVXAgPSBmYWxzZTsgLy/muIXnqbrmlbDmja4KCiAgICAgIHRoaXMubXlGYXZvcml0ZVNvbmcgPSB7fTsKICAgICAgdGhpcy5jcmVhdGVTb25nTGlzdCA9IFtdOwogICAgICB0aGlzLmNvbGxlY3RTb25nTGlzdCA9IFtdOwogICAgfSwKICAgIC8v55uR5ZCs5rua5YqoCiAgICBjb250ZW50U2Nyb2xsOiBmdW5jdGlvbiBjb250ZW50U2Nyb2xsKHBvc2l0aW9uKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHBvc2l0aW9uKTsKICAgICAgaWYgKE1hdGguYWJzKHBvc2l0aW9uLnkpID4gODApIHsKICAgICAgICB0aGlzLnNob3dNc2cgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd01zZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOe9kee7nOivt+axguebuOWFs+aWueazlQ0KICAgICAqLwogICAgLy/ojrflj5bnlKjmiLfmrYzljZUKICAgIGdldFVzZXJQcm9maWxlTWVzc2dlOiBmdW5jdGlvbiBnZXRVc2VyUHJvZmlsZU1lc3NnZSh1aWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF9nZXRVc2VyUHJvZmlsZU1lc3NnZSh1aWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCJ1c2VyIHByb2ZpbGUgaW4gcHJvZmlsZSIsIHJlcyk7IC8v5Zac5qyi55qE6Z+z5LmQCgogICAgICAgIF90aGlzLm15RmF2b3JpdGVTb25nID0gcmVzLnBsYXlsaXN0WzBdOyAvL+WIm+W7uueahOatjOWNlQoKICAgICAgICBfdGhpcy5jcmVhdGVTb25nTGlzdCA9IHJlcy5wbGF5bGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICBpZiAoaW5kZXggIT0gMCAmJiBpdGVtLnVzZXJJZCA9PSBfdGhpcy4kc3RvcmUuc3RhdGUudWlkKSByZXR1cm4gaXRlbTsKICAgICAgICB9KTsgLy/mlLbol4/nmoTmrYzljZUKCiAgICAgICAgX3RoaXMuY29sbGVjdFNvbmdMaXN0ID0gcmVzLnBsYXlsaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIGlmIChpbmRleCAhPSAwICYmIGl0ZW0udXNlcklkICE9IF90aGlzLiRzdG9yZS5zdGF0ZS51aWQpIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgdmFyIHN0YXR1c0NvZGUgPSBlcnIucmVzcG9uc2Uuc3RhdHVzOwogICAgICAgIGlmIChzdGF0dXNDb2RlID09IDMwMSkgY29uc29sZS5sb2coJ+ivt+WFiOeZu+W9lScpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDnmbvlvZXlkI7ojrflj5bnlKjmiLflpLTlg48KICAgIHVzZXJIZWFkVXJsOiBmdW5jdGlvbiB1c2VySGVhZFVybCgpIHsKICAgICAgdmFyIHVybCA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJQcm9maWxlICE9IG51bGwgPyB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyUHJvZmlsZS5hdmF0YXJVcmwgOiByZXF1aXJlKCdhc3NldHMvaW1nL2xlZnRwb3B1cC91c2VyLnN2ZycpOwogICAgICByZXR1cm4gdXJsOwogICAgfSwKICAgIC8vIOeZu+W9leWQjuiOt+WPlueUqOaIt+aYteensAogICAgdXNlck5pY2tOYW1lOiBmdW5jdGlvbiB1c2VyTmlja05hbWUoKSB7CiAgICAgIHZhciBuaWNrTmFtZSA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJQcm9maWxlICE9IG51bGwgPyB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyUHJvZmlsZS5uaWNrbmFtZSA6ICfnq4vljbPnmbvlvZUnOwogICAgICByZXR1cm4gbmlja05hbWU7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIHVpZCA9IHRoaXMuJHN0b3JlLnN0YXRlLnVpZDsgLy/ojrflj5bnlKjmiLfmrYzljZUKCiAgICBpZiAodWlkICE9IG51bGwpIHRoaXMuZ2V0VXNlclByb2ZpbGVNZXNzZ2UodWlkKTsKICB9Cn07"},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"profile\">\r\n    <nav-bar class=\"nav-bar\">\r\n      <div slot=\"left\" @click=\"leftPopClick\" class=\"left-pop\">\r\n        <img src=\"~assets/img/navbar/category.svg\" alt=\"\" />\r\n      </div>\r\n      <div slot=\"center\" v-if=\"showMsg\">\r\n        <img class=\"user-head\" v-lazy=\"userHeadUrl\" />\r\n        <span>{{ userNickName }}</span>\r\n      </div>\r\n    </nav-bar>\r\n    <!-- 个人信息等左弹出层 -->\r\n    <van-popup\r\n      class=\"left-van-popup\"\r\n      position=\"left\"\r\n      :style=\"{ height: '100vh', width: '70%' }\"\r\n      v-model=\"leftPopUp\"\r\n    >\r\n      <left-pop @logoutBtnClick=\"changePopStatus\" />\r\n    </van-popup>\r\n    <div class=\"container\">\r\n      <scroll\r\n        class=\"prifile-scroll\"\r\n        ref=\"profileScroll\"\r\n        :isListen=\"2\"\r\n        @scroll=\"contentScroll\"\r\n      >\r\n        <!-- 用户信息展示 -->\r\n        <user-msg />\r\n        <!-- 本地、播放等任务 -->\r\n        <tasks />\r\n        <!-- 我喜欢的音乐 -->\r\n        <my-favorite-song :my-favorite-song=\"myFavoriteSong\" />\r\n        <!-- 创建歌单/收藏歌单按钮 -->\r\n        <music-ctrl :titles=\"['创建歌单', '', '收藏歌单']\" />\r\n        <!-- 创建歌单 -->\r\n        <create-song-list :create-song-list=\"createSongList\" />\r\n        <!-- 收藏歌单 -->\r\n        <collect-song-list :collect-song-list=\"collectSongList\"/>\r\n\r\n      </scroll>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from 'components/common/navbar/NavBar';\r\nimport Scroll from 'components/common/scroll/Scroll';\r\n\r\nimport { getUserProfileMessge } from \"network/profile\";\r\n\r\nimport LeftPop from '../leftpop/LeftPop';\r\n\r\nimport UserMsg from './childComps/UserMsg';\r\nimport Tasks from './childComps/Tasks.vue';\r\nimport MyFavoriteSong from './childComps/MyFavoriteSong';\r\nimport MusicCtrl from './childComps/musicCtrl.vue';\r\nimport CreateSongList from './childComps/CreateSongList';\r\nimport CollectSongList from './childComps/CollectSongList.vue';\r\n\r\nexport default {\r\n  components: {\r\n    NavBar,\r\n    LeftPop,\r\n    UserMsg,\r\n    Tasks,\r\n    Scroll,\r\n    MyFavoriteSong,\r\n    MusicCtrl,\r\n    CreateSongList,\r\n    CollectSongList,\r\n  },\r\n  name: 'Profile',\r\n  data() {\r\n    return {\r\n      leftPopUp: false,   //个人信息左弹出层显示\r\n      showMsg: false,     //个人信息navbar弹出\r\n      myFavoriteSong: {}, //我喜欢的音乐\r\n      createSongList: [], //创建的歌单\r\n      collectSongList: [],//收藏的歌单\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * 事件监听相关方法\r\n     */\r\n    //点击左上角更多左弹出层显示事件\r\n    leftPopClick() {\r\n      // console.log('leftclick');\r\n      this.leftPopUp = true;\r\n    },\r\n    //监听到退出点击事件，隐藏弹出层\r\n    changePopStatus() {\r\n      this.leftPopUp = false;\r\n      //清空数据\r\n      this.myFavoriteSong = {};\r\n      this.createSongList = [];\r\n      this.collectSongList = [];\r\n    },\r\n    //监听滚动\r\n    contentScroll(position) {\r\n      // console.log(position);\r\n      if (Math.abs(position.y) > 80) {\r\n        this.showMsg = true;\r\n      } else {\r\n        this.showMsg = false;\r\n      }\r\n    },\r\n    /**\r\n     * 网络请求相关方法\r\n     */\r\n    //获取用户歌单\r\n    getUserProfileMessge(uid) {\r\n      getUserProfileMessge(uid)\r\n        .then(res => {\r\n          console.log(\"user profile in profile\", res);\r\n          //喜欢的音乐\r\n          this.myFavoriteSong = res.playlist[0];\r\n          //创建的歌单\r\n          this.createSongList = res.playlist.filter((item, index) => {\r\n            if (index != 0 && item.userId == this.$store.state.uid) return item;\r\n          });\r\n          //收藏的歌单\r\n          this.collectSongList = res.playlist.filter((item, index) => {\r\n            if (index != 0 && item.userId != this.$store.state.uid) return item;\r\n          });\r\n        })\r\n        .catch(err => {\r\n          const statusCode = err.response.status;\r\n          if (statusCode == 301) console.log('请先登录');\r\n        })\r\n    },\r\n  },\r\n  computed: {\r\n    // 登录后获取用户头像\r\n    userHeadUrl() {\r\n      let url = this.$store.state.userProfile != null ? this.$store.state.userProfile.avatarUrl : require('assets/img/leftpopup/user.svg');\r\n      return url;\r\n    },\r\n    // 登录后获取用户昵称\r\n    userNickName() {\r\n      let nickName = this.$store.state.userProfile != null ? this.$store.state.userProfile.nickname : '立即登录';\r\n      return nickName;\r\n    },\r\n  },\r\n  created() {\r\n    const uid = this.$store.state.uid;\r\n    //获取用户歌单\r\n    if (uid != null)\r\n      this.getUserProfileMessge(uid);\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#profile {\r\n  background-color: #f6f6f4;\r\n  height: calc(100vh - 50px);\r\n  overflow: hidden;\r\n}\r\n.container {\r\n  width: 90%;\r\n  height: calc(100% - 49px);\r\n  margin: 0 auto;\r\n}\r\n.nav-bar {\r\n  background-color: #ffffff;\r\n  z-index: 9;\r\n  position: relative;\r\n}\r\n.nav-bar img {\r\n  vertical-align: middle;\r\n  width: 25px;\r\n}\r\n.prifile-scroll {\r\n  height: 97%;\r\n}\r\n</style>"],"sourceRoot":"src/views/profile"}]}